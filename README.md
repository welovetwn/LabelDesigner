# LabelDesigner åŠŸèƒ½èªªæ˜

LabelDesigner æ˜¯ä¸€å€‹ç°¡å–®çš„ C# WinForms å°ˆæ¡ˆï¼Œæä¾›ä½¿ç”¨è€…è¨­è¨ˆæ¨™ç±¤(Label)
çš„åŠŸèƒ½ã€‚

------------------------------------------------------------------------

## ğŸ“¦ ç›®å‰æ”¯æ´çš„åŠŸèƒ½

### ğŸ¨ ç•«å¸ƒ (DesignerCanvas)

-   **æ»‘é¼ æ“ä½œ**
    -   é»é¸ç‰©ä»¶ â†’ é¸å–
    -   æ‹–æ›³ç‰©ä»¶ â†’ ç§»å‹•
    -   ä½¿ç”¨ç¸®æ”¾æ§åˆ¶é» (8 å€‹å°æ–¹å¡Š) â†’ æ”¹è®Šå¤§å°
-   **å°é½Šè¼”åŠ©ç·š**
    -   æ‹–æ›³æ™‚ï¼Œç‰©ä»¶æœƒè‡ªå‹•é¡¯ç¤ºç´…è‰²å°é½Šè¼”åŠ©ç·š (ä¸Šä¸‹ã€å·¦å³ã€ä¸­å¿ƒ)
-   **æ»‘é¼ æ¸¸æ¨™æç¤º**
    -   åœ¨æ§åˆ¶é»ä¸Šæœƒé¡¯ç¤ºä¸åŒçš„æ»‘é¼ æ¸¸æ¨™ (æ°´å¹³ / å‚ç›´ / å°è§’ç·šç¸®æ”¾)

### âŒ¨ï¸ éµç›¤å¿«æ·éµ

-   **Delete** â†’ åˆªé™¤é¸å–ç‰©ä»¶
-   **Ctrl+C** â†’ è¤‡è£½ç‰©ä»¶ (å„²å­˜åœ¨å…§éƒ¨å‰ªè²¼ç°¿)
-   **Ctrl+V** â†’ è²¼ä¸Šç‰©ä»¶ (ç”¢ç”Ÿæ–°çš„è¤‡æœ¬)

### ğŸ“‘ ç‰©ä»¶ (CanvasItem)

ç›®å‰æ”¯æ´ä¸‰ç¨®é¡å‹ï¼š 1. **æ–‡å­— (TextItem)** -
å¯è¨­å®šå­—å‹ã€å¤§å°ã€é¡è‰²ã€å°é½Šæ–¹å¼ - æ”¯æ´ã€Œæ¬„ä½æ›¿æ›ã€ (ä¾‹å¦‚ `{{DATE}}`,
`{{FIELD:Name}}`) 2. **åœ–ç‰‡ (ImageItem)** - æ”¯æ´ç¶­æŒæ¯”ä¾‹ç¸®æ”¾ 3. **æ¢ç¢¼
(BarcodeItem)** - æ”¯æ´ `Code128`, `QRCode`, `EAN13` -
å¯é¸æ“‡æ˜¯å¦é¡¯ç¤ºæ–‡å­—æ¨™ç±¤

### ğŸ”§ è‡ªè¨‚æ¬„ä½è§£æå™¨ (FieldResolver)

åœ¨ LabelDesigner ä¸­ï¼Œ`FieldResolver` ç”¨ä¾†å°‡ **æ–‡å­—æ¨™è¨˜** è½‰æ›æˆ
**å¯¦éš›å€¼**ã€‚\
é€™è®“æ¨™ç±¤å…§å®¹å¯ä»¥æ ¹æ“šå‹•æ…‹è³‡æ–™ç”¢ç”Ÿï¼Œè€Œä¸åªæ˜¯å›ºå®šæ–‡å­—ã€‚

#### ğŸ“Œ å…§å»ºæ”¯æ´

-   `{{DATE}}` â†’ é¡¯ç¤ºä»Šå¤©çš„æ—¥æœŸ\
-   `{{FIELD:Name}}` â†’ å¾è³‡æ–™ä¾†æºå–å‡º `Name` æ¬„ä½çš„å€¼

#### ğŸ“Œ å¯æ“´å……çš„ç¯„ä¾‹

é–‹ç™¼è€…å¯ä»¥åœ¨ `FieldResolver.Resolve()` ä¸­åŠ å…¥æ›´å¤šè¦å‰‡ï¼Œä¾‹å¦‚ï¼š

  ----------------------------------------------------------------------------------------
  æ¨™è¨˜                         èªªæ˜                       ç¯„ä¾‹è¼¸å‡º
  ---------------------------- -------------------------- --------------------------------
  `{{NOW:yyyy/MM/dd HH:mm}}`   ä¾æŒ‡å®šæ ¼å¼é¡¯ç¤ºç›®å‰æ™‚é–“     `2025/08/22 15:30`

  `{{USERNAME}}`               é¡¯ç¤ºç›®å‰ç™»å…¥çš„ä½¿ç”¨è€…åç¨±   `john.doe`

  `{{PRODUCT:Price}}`          å¾è³‡æ–™ä¾†æºå–å‡ºå•†å“åƒ¹æ ¼     `299.00`
  ----------------------------------------------------------------------------------------

#### ğŸ“Œ ç¯„ä¾‹ç¨‹å¼ç¢¼

``` csharp
public class FieldResolver
{
    private readonly Dictionary<string, string> _fields;

    public FieldResolver(Dictionary<string, string> fields)
    {
        _fields = fields;
    }

    public string Resolve(string input)
    {
        if (string.IsNullOrWhiteSpace(input)) return "";

        if (input.StartsWith("{{FIELD:"))
        {
            var key = input.Replace("{{FIELD:", "").Replace("}}", "");
            return _fields.TryGetValue(key, out var value) ? value : $"[æœªçŸ¥æ¬„ä½:{key}]";
        }

        if (input == "{{DATE}}")
            return DateTime.Now.ToShortDateString();

        if (input.StartsWith("{{NOW:"))
        {
            var format = input.Replace("{{NOW:", "").Replace("}}", "");
            return DateTime.Now.ToString(format);
        }

        if (input == "{{USERNAME}}")
            return Environment.UserName;

        return input;
    }
}
```

------------------------------------------------------------------------

## ğŸš€ æœªä¾†å¯ä»¥æ”¹é€²çš„åŠŸèƒ½

-   æ”¯æ´ç¾¤çµ„ (Group/Ungroup)
-   æ”¯æ´æ—‹è½‰ (Rotation Handle)
-   æ”¯æ´å¤šé¸ç‰©ä»¶ (Shift + Click)
-   Undo / Redo ç³»çµ±
-   å°‡è¨­è¨ˆåŒ¯å‡ºæˆ PNG / PDF
